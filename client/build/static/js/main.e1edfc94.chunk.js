(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){e.exports=a(97)},68:function(e,t,a){},69:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),l=a.n(o),c=a(23),s=(a(68),a(7)),i=a(8),u=a(10),m=a(9),d=a(18),p=a(11),h=a(19),g=(a(69),a(13)),b=a.n(g),E=function(e,t){return b.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=function(e,t){return b.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=a(100),y=function(e){b.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))},k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.user&&r.a.createElement(v.a,null,r.a.createElement(v.a.Brand,{href:"/"},"Home"),r.a.createElement(v.a.Brand,{href:"/admin"},"Admin"),r.a.createElement(v.a.Brand,{href:"/admin",onClick:function(){return y(e.props)}},"Logout")))}}]),a}(n.Component),C=a(14),O=a(25),w=a(56),S=a.n(w),j=function(e){return r.a.createElement("span",{className:"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true"},e.symbol)};function N(){var e=Object(d.a)(["\n  padding-top: 0.8rem;\n\n  h2 {\n    font-size: 0.9rem;\n  }\n\n  div > p {\n    margin-top: 4 rem; /* Does not work */\n  }\n  p {\n    font-size: 0.8rem;\n    margin: 0.2rem 0rem;\n    padding: 0px;\n  }\n"]);return N=function(){return e},e}var L=h.b.div(N()),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.info;return n.createElement(L,null,n.createElement("h2",null,e.name),n.createElement("p",null,e.address),n.createElement("div",null,n.createElement("p",null,n.createElement("a",{target:"_new",href:e.website},"Website")," ","|"," ",n.createElement("a",{target:"_new",href:e.googleMaps},"Google Maps")),e.tapRoom&&n.createElement("p",null,"Tap Room ",n.createElement(j,{symbol:" \u2705",label:"check"})),e.bottleShop&&n.createElement("p",null,"Bottle Shop ",n.createElement(j,{symbol:" \u2705",label:"check"})),e.bar&&n.createElement("p",null,"Bar ",n.createElement(j,{symbol:" \u2705",label:"check"}))))}}]),a}(n.PureComponent);function R(){var e=Object(d.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  img {\n    width: 35px;\n    height: 35px;\n  }\n"]);return R=function(){return e},e}var M=h.b.button(R()),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.locations,a=e.setSelectedLocation;return t.map((function(e){return n.createElement(O.a,{latitude:e.coordinates[0],longitude:e.coordinates[1],key:e._id,offsetLeft:-25,offsetTop:-40},n.createElement(M,{onClick:function(t){t.preventDefault(),a(e)}},n.createElement("img",{src:"map-marker.png",alt:"marker"})))}))}}]),a}(n.PureComponent);S.a.config();var D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={allLocations:[],viewport:{width:"100vw",height:"100vh",latitude:52.52,longitude:13.405,zoom:12},selectedLocation:null,userLocation:{}},e.setSelectedLocation=function(t){e.setState({selectedLocation:t})},e.setUserLocation=function(){navigator.geolocation.getCurrentPosition((function(t){var a={lat:t.coords.latitude,long:t.coords.longitude},n={height:"100vh",width:"100vw",latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:13};e.setState({viewport:n,userLocation:a})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/locations").then((function(t){e.setState({allLocations:t.data})})).catch((function(e){console.log(e)}))}},{key:"renderPopup",value:function(){var e=this,t=this.state.selectedLocation;return t&&r.a.createElement(O.b,{closeOnClick:!1,tipSize:5,latitude:t.coordinates[0],longitude:t.coordinates[1],onClose:function(){return e.setState({selectedLocation:null})}},r.a.createElement(x,{info:t}))}},{key:"render",value:function(){var e=this;console.log(this.state.allLocations);var t=this.state,a=t.allLocations,n=t.viewport,o=t.userLocation,l=this.props,c=l.barCheck,s=l.bottleShopCheck,i=l.tapRoomCheck,u=a.filter((function(e){return!(!e.bar||!c)||(!(!e.tapRoom||!i)||!(!e.bottleShop||!s))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.c,Object.assign({},n,{onViewportChange:function(t){return e.setState({viewport:t})},mapStyle:"mapbox://styles/karlsec/ckbgcwiw44z3c1impwe1yfvpc",mapboxApiAccessToken:"pk.eyJ1Ijoia2FybHNlYyIsImEiOiJja2JjOXlwbW8wODJ1MnhwYndkZnZ2M2h5In0.d-NW8HIRRUF64G437UTPeQ"}),r.a.createElement("button",{onClick:this.setUserLocation},"My Location"),r.a.createElement(A,{locations:u,setSelectedLocation:this.setSelectedLocation}),0!==Object.keys(o).length&&r.a.createElement(O.a,{latitude:o.lat,longitude:o.long,offsetLeft:-20,offsetTop:-40},r.a.createElement("img",{style:{width:"2rem"},src:"user-point.png",alt:"marker"})),this.renderPopup()))}}]),a}(n.Component),P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"toggle-control"},e.value,r.a.createElement("input",{type:"checkbox",name:e.name,checked:e.checked,onChange:e.onChange}),r.a.createElement("span",{className:"control"})))};function _(){var e=Object(d.a)(["\n  display: flex;\n"]);return _=function(){return e},e}function F(){var e=Object(d.a)(["\n  width: 100vw;\n"]);return F=function(){return e},e}function U(){var e=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  div {\n    /* margin: 1rem; */\n  }\n"]);return U=function(){return e},e}var B=h.b.section(U()),I=h.b.div(F()),T=h.b.header(_()),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={barCheck:!0,bottleShopCheck:!0,tapRoomCheck:!0},e.handleCheck=function(t){var a=t.target,n=a.name,r=a.checked;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.barCheck,a=e.bottleShopCheck,n=e.tapRoomCheck;return r.a.createElement("div",null,r.a.createElement(T,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Berlin Craft Beer")),r.a.createElement("div",null,r.a.createElement(P,{name:"barCheck",value:"Bars",checked:t,onChange:this.handleCheck}),r.a.createElement(P,{name:"bottleShopCheck",value:"Bottle Shops",checked:a,onChange:this.handleCheck}),r.a.createElement(P,{name:"tapRoomCheck",value:"TapRoom?",checked:n,onChange:this.handleCheck}))),r.a.createElement(B,null,r.a.createElement(I,null,r.a.createElement(D,{barCheck:t,bottleShopCheck:a,tapRoomCheck:n}))))}}]),a}(n.Component),G=function(){return r.a.createElement("div",null,"Page Not Found")},W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={allLocations:[]},e.deleteItem=function(t){b.a.delete("/api/locations/".concat(t.target.value)).then((function(e){console.log("Location deleted:",e.data)})).then((function(){e.deleteHandler()})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/locations").then((function(t){e.setState({allLocations:t.data})})).catch((function(t){400===t.response.status&&e.setState({error:"Locations not found"})}))}},{key:"deleteHandler",value:function(){var e=this;b.a.get("/api/locations").then((function(t){e.setState({allLocations:t.data})})).catch((function(t){400===t.response.status&&e.setState({error:"Locations not found"})}))}},{key:"render",value:function(){var e=this,t=this.state.allLocations.map((function(t){var a=t.name,n=t.address,o=t.website,l=t.googleMaps,s=t.bar,i=t.tapRoom,u=t.bottleShop,m=t.coordinates,d=t.phone,p=t.placeId,h=t.rating,g=t.totalRatings,b=t.types,E=t.status,f=t.lastEdit,v=t.addedBy,y=b.map((function(e,t){return r.a.createElement("li",{key:t},e)}));return r.a.createElement("tr",{key:t._id},r.a.createElement("th",{scope:"row"},r.a.createElement(c.b,{to:"/admin/edit/".concat(t._id)},r.a.createElement("button",{type:"button",value:t._id,className:"btn btn-outline-info btn-sm"},"Edit")),r.a.createElement("button",{type:"button",value:t._id,onClick:e.deleteItem,className:"btn btn-outline-danger btn-sm"},"Delete")),r.a.createElement("td",null,a),r.a.createElement("td",null,p),r.a.createElement("td",null,"[",m[0],", ",m[1],"]"),r.a.createElement("td",null,n),r.a.createElement("td",null,d),r.a.createElement("td",null,r.a.createElement("a",{href:l},"Link")),r.a.createElement("td",null,h," (",g,")"),r.a.createElement("td",null,E),r.a.createElement("td",null,r.a.createElement("a",{href:o},"Link")),r.a.createElement("td",null,i?"Yes":"No"),r.a.createElement("td",null,s?"Yes":"No"),r.a.createElement("td",null,u?"Yes":"No"),r.a.createElement("td",null,r.a.createElement("ul",null,y)),r.a.createElement("td",null,v),r.a.createElement("td",null,f||"No edits"," "))}));return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/add"},"Add a Location")),r.a.createElement("div",null,r.a.createElement("p",null,"Additional fields that exist but not shown:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Detailed Address Object"),r.a.createElement("li",null,"Detailed Hours Object (for open now) + General Hours for Display"))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered  table-hover table-sm"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Change"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Google Place ID"),r.a.createElement("th",{scope:"col"},"Coordinates"),r.a.createElement("th",{scope:"col"},"Address"),r.a.createElement("th",{scope:"col"},"Phone"),r.a.createElement("th",{scope:"col"},"Google Maps Link"),r.a.createElement("th",{scope:"col"},"Google Rating (#)"),r.a.createElement("th",{scope:"col"},"Status",r.a.createElement("br",null)," (Oper, Temp_Cls, Perm_Cls)"),r.a.createElement("th",{scope:"col"},"Website"),r.a.createElement("th",{scope:"col"},"TapRoom"),r.a.createElement("th",{scope:"col"},"Bar"),r.a.createElement("th",{scope:"col"},"Shop"),r.a.createElement("th",{scope:"col"},"Types from Google"),r.a.createElement("th",{scope:"col"},"Added By"),r.a.createElement("th",{scope:"col"},"Last Edited By"))),r.a.createElement("tbody",null,t.length<1?r.a.createElement("tr",null,r.a.createElement("td",null,"No Locations Added")):t))))}}]),a}(n.Component),Y=(a(52),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;f(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/admin"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:""},r.a.createElement("h1",{className:""},"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:""},"Username"),r.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"My username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"My password"})),r.a.createElement("div",{className:""},this.state.message&&r.a.createElement("p",null,this.state.message)),r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("button",{type:"submit",value:"Login",className:"btn btn-primary"},"Login")))))))}}]),a}(n.Component));function z(){var e=Object(d.a)(["\n  margin: 2rem 4rem;\n"]);return z=function(){return e},e}var J=h.b.section(z()),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(J,null,r.a.createElement("h4",null,"Admin Page"),"admin"===this.props.user.role?r.a.createElement(W,null):r.a.createElement(Y,{setUser:this.props.setUser,history:this.props.history}))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;E(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/admin"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:""},r.a.createElement("h1",{className:""},"Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:""},"Username"),r.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"My username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"My password"})),r.a.createElement("div",{className:""},this.state.message&&r.a.createElement("p",null,this.state.message)),r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("button",{type:"submit",value:"Signup",className:"btn btn-primary"},"Sign up")))))))}}]),a}(n.Component),Q=function(e){var t=e.input.types.map((function(e,t){return r.a.createElement("li",{key:t.toString()},e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Location Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Enter name",value:e.input.name,onChange:e.handleChange})),t.length>0&&r.a.createElement("div",null,r.a.createElement("p",null,"Google Type Suggestions:"),r.a.createElement("ul",null,t)),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"bar",name:"bar",checked:e.input.bar,onChange:e.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"bar"},"Bar?")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"tapRoom",name:"tapRoom",checked:e.input.tapRoom,onChange:e.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"tapRoom"},"Tap Room?")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"bottleShop",name:"bottleShop",checked:e.input.bottleShop,onChange:e.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"bottleShop"},"Bottle Shop?")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"status"},"Status"),r.a.createElement("select",{className:"custom-select",id:"status",name:"status",value:e.input.status,onChange:e.handleChange},r.a.createElement("option",{value:""},"Select Status"),r.a.createElement("option",{value:"OPERATIONAL"},"Operational"),r.a.createElement("option",{value:"CLOSED_TEMPORARILY"},"Temp Closed"),r.a.createElement("option",{value:"CLOSED_PERMANENTLY"},"Perm Closed"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"latitude"},"Coordinates (Latitude)"),r.a.createElement("input",{type:"number",className:"form-control",id:"latitude",name:"latitude",placeholder:"Enter Latitude as number (N+ S-)",value:e.input.latitude,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"longitude"},"Coordinates (Longitude)"),r.a.createElement("input",{type:"number",className:"form-control",id:"longitude",name:"longitude",placeholder:"Enter Longitude as number (E+ W-)",value:e.input.longitude,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("input",{type:"text",name:"address",className:"form-control",id:"address",placeholder:"Enter address",value:e.input.address,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"googleMaps"},"Google Map Link"),r.a.createElement("input",{type:"text",className:"form-control",name:"googleMaps",id:"googleMaps",placeholder:"Enter Google Maps Link",value:e.input.googleMaps,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone #"),r.a.createElement("input",{type:"text",className:"form-control",name:"phone",id:"phone",placeholder:"Enter Phone #",value:e.input.phone,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website"),r.a.createElement("input",{type:"text",className:"form-control",name:"website",id:"website",placeholder:"Enter website",value:e.input.website,onChange:e.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))},V=a(39),X=a.n(V),$=a(60),q=a(34),ee=a.n(q),te=new window.google.maps.places.PlacesService(new window.google.maps.Map(document.createElement("div"),{center:{lat:40.7575285,lng:-73.9884469}})),ae=function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))},ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleChange=function(t){e.setState({search:t})},e.handleSelect=function(){var t=Object($.a)(X.a.mark((function t(a){var n,r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(q.geocodeByAddress)(a);case 3:return n=t.sent,t.next=6,Object(q.getLatLng)(n[0]);case 6:r=t.sent,e.props.handleAutocomplete({longitude:r.lng,latitude:r.lat}),te.getDetails({placeId:n[0].place_id},(function(t,a){a===window.google.maps.places.PlacesServiceStatus.OK&&(console.log(t),e.props.handleAutocomplete({name:t.name,address:t.vicinity,addressDetail:t.address_components,googleMaps:t.url,website:t.website,phone:t.formatted_phone_number,openHoursText:t.opening_hours.weekday_text,openHoursDetail:t.opening_hours.periods,placeId:t.place_id,rating:t.rating,totalRatings:t.user_ratings_total,types:t.types,status:t.business_status}))})),e.setState({search:""}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{value:this.state.search,onChange:this.handleChange,onSelect:this.handleSelect,children:ae})}}]),a}(r.a.Component),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",longitude:0,latitude:0,address:"",addressDetail:"",googleMaps:"",website:"",bar:!1,tapRoom:!1,bottleShop:!1,phone:"",openHoursText:null,openHoursDetail:null,placeId:"",rating:null,totalRatings:null,types:[],status:"",selectedLocation:null},e.handleSubmitPost=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.address,o=a.addressDetail,l=a.website,c=a.googleMaps,s=a.bar,i=a.tapRoom,u=a.bottleShop,m=a.longitude,d=a.latitude,p=a.phone,h=a.openHoursText,g=a.openHoursDetail,E=a.isOpen,f=a.rating,v=a.totalRatings,y=a.types,k=a.placeId,C=a.status,O=e.props.user.username;b.a.post("/api/locations",{name:n,address:r,addressDetail:o,googleMaps:c,website:l,bar:s,tapRoom:i,bottleShop:u,addedBy:O,longitude:m,latitude:d,phone:p,openHoursText:h,openHoursDetail:g,isOpen:E,rating:f,totalRatings:v,types:y,placeId:k,status:C}).then((function(){e.props.history.push("/admin")})).catch((function(e){console.log("Error adding location",e)}))},e.handleAutocomplete=function(t){e.setState(t)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e.handleCheck=function(t){var a=t.target,n=a.name,r=a.checked;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h3",null,"Add a Location"),r.a.createElement(ne,{selectedLocation:this.state.selectedLocation,handleAutocomplete:this.handleAutocomplete}),r.a.createElement(Q,{handleSubmit:this.handleSubmitPost,input:this.state,handleChange:this.handleChange,handleCheck:this.handleCheck}))}}]),a}(n.Component),oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e,n;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=t.call.apply(t,[this].concat(o))).state=(e={name:"",longitude:0,latitude:0,address:"",googleMaps:"",website:"",bar:!1,tapRoom:!1,bottleShop:!1,status:[],phone:""},Object(C.a)(e,"status",""),Object(C.a)(e,"types",[]),e),n.handleSubmitEdit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.address,o=t.website,l=t.googleMaps,c=t.bar,s=t.tapRoom,i=t.bottleShop,u=t.longitude,m=t.latitude,d=n.props.user.username,p=n.props.match.params.id;b.a.put("/api/locations/".concat(p),{name:a,address:r,googleMaps:l,website:o,bar:c,tapRoom:s,bottleShop:i,lastEdit:d,longitude:u,latitude:m}).then((function(){n.props.history.push("/admin")})).catch((function(e){console.log("Error adding location",e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(C.a)({},a,r))},n.handleCheck=function(e){var t=e.target,a=t.name,r=t.checked;n.setState(Object(C.a)({},a,r))},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;b.a.get("/api/locations/".concat(t)).then((function(t){var a=t.data,n=a.name,r=a.bar,o=a.address,l=a.googleMaps,c=a.coordinates,s=a.tapRoom,i=a.bottleShop,u=a.website,m=a.types,d=a.status,p=a.phone;e.setState({name:n,bar:r,address:o,googleMaps:l,latitude:c[0],longitude:c[1],tapRoom:s,bottleShop:i,website:u,types:m,status:d,phone:p})})).catch((function(t){400===t.response.status&&e.setState({error:"Locations not found"})}))}},{key:"render",value:function(){return console.log(this.state.types),r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h3",null,"Edit Location"),r.a.createElement(Q,{handleSubmit:this.handleSubmitEdit,input:this.state,handleChange:this.handleChange,handleCheck:this.handleCheck}))}}]),a}(n.Component);function le(){var e=Object(d.a)(["\nhtml {\n  color: '#393939';\n}\n\nbody {\n  padding: 0;\n  margin: 1rem 0 0 0;\n}\n"]);return le=function(){return e},e}var ce=Object(h.a)(le()),se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),r.a.createElement(k,{user:this.state.user}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/admin",render:function(t){return r.a.createElement(Z,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/admin/add",render:function(t){return"admin"===e.state.user.role?r.a.createElement(re,Object.assign({user:e.state.user,setUser:e.setUser},t)):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/admin/edit/:id",render:function(t){return"admin"===e.state.user.role?r.a.createElement(oe,Object.assign({user:e.state.user,setUser:e.setUser},t)):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/admin/create",render:function(t){return r.a.createElement(K,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/",component:H}),r.a.createElement(p.b,{exact:!0,path:"/:notfound",component:G})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.get("/api/auth/loggedin").then((function(e){var t=e.data;l.a.render(r.a.createElement(c.a,null,r.a.createElement(se,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.e1edfc94.chunk.js.map